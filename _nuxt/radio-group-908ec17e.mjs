import{o as B}from"./dom-d07dd68d.mjs";import{o as R}from"./keyboard-c50452c7.mjs";import{w as I,P as A,L as h,N as w}from"./focus-management-bdc6f191.mjs";import{t as $}from"./use-id-2e145a0f.mjs";import{A as j,P as L,N as V}from"./render-0b5e10c9.mjs";import{useLabels as C,Label as K}from"./label-38c68505.mjs";import{useDescriptions as D,Description as _}from"./description-dd13681e.mjs";import{p as U}from"./use-tree-walker-22a8344c.mjs";import{m as W,p as q}from"./hidden-8943c547.mjs";import{e as H,p as J}from"./form-a0e06e57.mjs";import{e as G}from"./owner-ef86f285.mjs";import{i as F,j as y,k as d,C as m,m as S,F as M,v as Z,x as z,q as Q,p as X}from"./entry-ce8d72d4.mjs";let N=Symbol("RadioGroupContext");function x(r){let b=Q(N,null);if(b===null){let c=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,x),c}return b}let ve=F({name:"RadioGroup",emits:{"update:modelValue":r=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]},name:{type:String,optional:!0}},inheritAttrs:!1,setup(r,{emit:b,attrs:c,slots:k,expose:p}){let i=y(null),t=y([]),E=C({name:"RadioGroupLabel"}),f=D({name:"RadioGroupDescription"});p({el:i,$el:i});let g=d(()=>r.modelValue),n={options:t,value:g,disabled:d(()=>r.disabled),firstOption:d(()=>t.value.find(e=>!e.propsRef.disabled)),containsCheckedOption:d(()=>t.value.some(e=>n.compare(m(e.propsRef.value),m(r.modelValue)))),compare(e,o){return e===o},change(e){var o;if(r.disabled||n.compare(m(g.value),m(e)))return!1;let a=(o=t.value.find(l=>n.compare(m(l.propsRef.value),m(e))))==null?void 0:o.propsRef;return a!=null&&a.disabled?!1:(b("update:modelValue",e),!0)},registerOption(e){t.value.push(e),t.value=I(t.value,o=>o.element)},unregisterOption(e){let o=t.value.findIndex(a=>a.id===e);o!==-1&&t.value.splice(o,1)}};X(N,n),U({container:d(()=>B(i)),accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});function O(e){if(!i.value||!i.value.contains(e.target))return;let o=t.value.filter(a=>a.propsRef.disabled===!1).map(a=>a.element);switch(e.key){case R.Enter:J(e.currentTarget);break;case R.ArrowLeft:case R.ArrowUp:if(e.preventDefault(),e.stopPropagation(),A(o,h.Previous|h.WrapAround)===w.Success){let a=t.value.find(l=>{var u;return l.element===((u=G(i))==null?void 0:u.activeElement)});a&&n.change(a.propsRef.value)}break;case R.ArrowRight:case R.ArrowDown:if(e.preventDefault(),e.stopPropagation(),A(o,h.Next|h.WrapAround)===w.Success){let a=t.value.find(l=>{var u;return l.element===((u=G(l.element))==null?void 0:u.activeElement)});a&&n.change(a.propsRef.value)}break;case R.Space:{e.preventDefault(),e.stopPropagation();let a=t.value.find(l=>{var u;return l.element===((u=G(l.element))==null?void 0:u.activeElement)});a&&n.change(a.propsRef.value)}break}}let v=`headlessui-radiogroup-${$()}`;return()=>{let{modelValue:e,disabled:o,name:a,...l}=r,u={ref:i,id:v,role:"radiogroup","aria-labelledby":E.value,"aria-describedby":f.value,onKeydown:O};return S(M,[...a!=null&&e!=null?H({[a]:e}).map(([s,P])=>S(W,j({features:q.Hidden,key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:s,value:P}))):[],L({ourProps:u,theirProps:{...c,...l},slot:{},attrs:c,slots:k,name:"RadioGroup"})])}}});var Y=(r=>(r[r.Empty=1]="Empty",r[r.Active=2]="Active",r))(Y||{});let me=F({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(r,{attrs:b,slots:c,expose:k}){let p=x("RadioGroupOption"),i=`headlessui-radiogroup-option-${$()}`,t=C({name:"RadioGroupLabel"}),E=D({name:"RadioGroupDescription"}),f=y(null),g=d(()=>({value:r.value,disabled:r.disabled})),n=y(1);k({el:f,$el:f}),Z(()=>p.registerOption({id:i,element:f,propsRef:g})),z(()=>p.unregisterOption(i));let O=d(()=>{var s;return((s=p.firstOption.value)==null?void 0:s.id)===i}),v=d(()=>p.disabled.value||r.disabled),e=d(()=>p.compare(m(p.value.value),m(r.value))),o=d(()=>v.value?-1:e.value||!p.containsCheckedOption.value&&O.value?0:-1);function a(){var s;!p.change(r.value)||(n.value|=2,(s=f.value)==null||s.focus())}function l(){n.value|=2}function u(){n.value&=-3}return()=>{let s=V(r,["value","disabled"]),P={checked:e.value,disabled:v.value,active:Boolean(n.value&2)},T={id:i,ref:f,role:"radio","aria-checked":e.value?"true":"false","aria-labelledby":t.value,"aria-describedby":E.value,"aria-disabled":v.value?!0:void 0,tabIndex:o.value,onClick:v.value?void 0:a,onFocus:v.value?void 0:l,onBlur:v.value?void 0:u};return L({ourProps:T,theirProps:s,slot:P,attrs:b,slots:c,name:"RadioGroupOption"})}}}),ce=K,fe=_;export{ve as RadioGroup,fe as RadioGroupDescription,ce as RadioGroupLabel,me as RadioGroupOption};
